<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label >clearQueue</label>
    <input id="clearQueue" type="checkbox"><br>
    <label >goToEnd</label>
    <input id="goToEnd" type="checkbox"> <br>
    <button id="stopButton">Stop</button>
    <div id="box"></div>


    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        $('#box').css({
            width : 100,
            height :100,
            background : "red"
        });
        setInterval(function(){
            $('#box').animate({
                width:100,
                height:100
            },1000).animate({
                width:200
            },1000).delay(1000).animate({
                width:200,
                height:200
            },1000);
        },3000);

        let clearQueue=false;
        let goToEnd=false;

        $("#clearQueue").change(function(){
            // 체크하면 true 풀면 false
            clearQueue=$(this).prop('checked');
        });
        $("#goToEnd").change(function(){
             // 체크하면 true 풀면 false
             goToEnd=$(this).prop('checked');
        });
         // 버튼을 누르면 stop을 하지만 
         //setInterval 때문에 다시 큐에 애니메이션 생성이 됨   
        $("#stopButton").click(function(){
            $("#box").stop(clearQueue,goToEnd);
        })
        // 박스에 마우스 오버를 하면 stop
        $("box").mouseover(function(){
            $("#box").stop(clearQueue,goToEnd);
        })
    </script>

</body>
</html>